<div (click)="focusTextArea()" class="kw-block w-fit focus:outline-none">
  @for (sessionChar of $sessionChars(); let currentIndex = $index; track currentIndex) {
    <span
      [ngStyle]="getStyleForChar(currentIndex, $index(), sessionChar)"
      class="whitespace-pre-wrap font-mono text-2xl"
      >{{ getFormattedTarget(sessionChar.target) }}</span
    >
  }
</div>
<textarea
  #textAreaRef
  tabindex="0"
  (beforeinput)="handleInputEvent($event)"
  (keydown)="handleKeyboardEvent($event)"
  class="w-0 h-0"
></textarea>
